<div class="container-fluid px-4 py-3">
  <div class="row">
    <div class="col-8">
      <h3>Covid-19 Stats</h3>
    </div>
    <div class="col-3 offset-1">
      <input
        class="form-control"
        type="search"
        placeholder="search"
        (change)="handleChange($event)" />
    </div>
  </div>
  <hr />
  <div class="d-flex">
    <button class="btn btn-warning position-right my-3" (click)="syncStats()">
      <span>Sync Stats <fa-icon [icon]="faSync"></fa-icon></span>
    </button>
  </div>
  <table class="table table-striped table-dark">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Country</th>
        <th scope="col">Tests</th>
        <th scope="col">Cases</th>
        <th scope="col">Deaths</th>
        <th class="text-center" scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of statistics; let i = index">
        <th scope="row">
          {{ i + 1 + (this.currentPage - 1) * this.itemsPerPage }}
        </th>
        <td>{{ row.country }}</td>
        <td>{{ row.tests.total | number }}</td>
        <td>{{ row.cases.total | number }}</td>
        <td>{{ row.deaths.total | number }}</td>
        <td class="text-center">
          <button class="btn btn-primary mx-3" (click)="getMoreInfo(row._id)">
            <span
              >More Info
              <fa-icon [icon]="faInfo"></fa-icon>
            </span>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
  <div class="d-flex">
    <pagination
      class="ml-auto"
      *ngIf="this.statistics"
      [totalItems]="this.totalPages * this.itemsPerPage"
      [itemsPerPage]="this.itemsPerPage"
      (pageChanged)="pageChanged($event)">
    </pagination>
  </div>
</div>
